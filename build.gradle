plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.6.21'
}

group 'dev.bukgeuk'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()

    maven {
        url = uri("https://repo.papermc.io/repository/maven-public/")
    }

    maven { url 'https://jitpack.io' }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib"
    implementation 'org.mariuszgromada.math:MathParser.org-mXparser:5.0.7'

    compileOnly("io.papermc.paper:paper-api:1.19.2-R0.1-SNAPSHOT")

    implementation files("lib/core-7e23bad82a-dev.jar")
}

java {
    toolchain.languageVersion.set(JavaLanguageVersion.of(17))
}

compileKotlin {
    kotlinOptions {
        jvmTarget = "17"
    }
}
compileTestKotlin {
    kotlinOptions {
        jvmTarget = "17"
    }
}

jar {
    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }

    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}